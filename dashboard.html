<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Zdravoslovna Platforma</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<nav class="navbar">
    <div class="container">
        <h1>Dashboard</h1>
        <p class="lead">We are delighted to help track and improve your health progress.</p>
    </div>
</n>

    <div class="container">
        <h2>Profile</h2>
        <div id="profileData"></div>

        <h2>Recommendations</h2>
        <div id="recommendations"></div>

        <h2>Progress</h2>
        <div id="progressData"></div>
    </div>
</body>

<script src="scripts.js"></script>
<script>
async function fetchDashboardData() {
    try {
        const profileResponse = await fetch('/api/profile');
        const recommendationsResponse = await fetch('/api/recommendations');
        const progressResponse = await fetch('/api/progress');

        // Display Profile Information
        const profile = await profileResponse.json();
        document.getElementById('profileData').innerHTML =
            `<h3>Name: ${profile.name}</h3>
            <h3>Age: ${profile.age}</h3>
            <h3>Current WeGCPI: ${profile.wegcpi} cal</h3>`

        // Display Recommendations
        const recommendations = await recommendationsResponse.json();
        let str = '';
        recommendations.forEach((rec) => {
            str += `<p>${rec.content}</p>`;
        });
        document.getElementById('recommendations').innerHTML = str;

        // Display Progress
        const progress = await progressResponse.json();
        document.getElementById('progressData').innerHTML =
            `<p>WeGCPI plan: ${progress.wegcpi} cal</p>`;
    } catch (e) {
        console.error("Error fetching dashboard data", e);
    }
}
fetchDashboardData();
</script>
</html>
